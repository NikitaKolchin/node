{"version":3,"sources":["PrivateRoute.js","backend.service.js","MyMenu.jsx","HomePage.jsx","LoginPage.jsx","AdminPage.jsx","InfoPage.jsx","ResultPage.jsx","App.js","index.js"],"names":["PrivateRoute","Component","component","rest","render","props","localStorage","getItem","to","pathname","state","from","location","teams","split","forEach","item","authHeader","user","JSON","parse","authdata","Authorization","logout","removeItem","handleResponse","response","a","json","data","ok","status","window","reload","Promise","reject","message","statusText","request","url","method","requestOptions","fetch","headers","requestObj","get","post","put","delete","backendService","login","username","password","body","stringify","btoa","setItem","updateOne","type","obj","_id","addOne","deleteOne","id","getAll","getStakesByUserId","setStakesByUserId","stake","matchNo","calcPets","home","away","realHome","realAway","difference","realDifference","MyMenu","useState","anchorEl","setAnchorEl","handleClose","Button","aria-controls","aria-haspopup","onClick","event","currentTarget","Menu","keepMounted","open","Boolean","onClose","MenuItem","currentUser","isAdmin","HomePage","setCurrentUser","loading","stakes","setStakes","matches","setMatches","columns","title","field","hidden","editable","defaultSort","lookup","useEffect","then","stakesArr","matchesArr","CircularProgress","options","pageSize","pageSizeOptions","sorting","rowStyle","rowData","pets","backgroundColor","map","match","find","undefined","temp","Object","assign","detailPanel","enable","homeName","awayName","isEditable","onRowUpdate","newData","oldData","updatedStake","st","crypto","require","LoginPage","error","submitted","showPassword","setState","handleChange","e","target","name","value","Grid","container","Typography","variant","gutterBottom","FormControl","InputLabel","htmlFor","Input","className","onChange","Alert","severity","AlertTitle","endAdornment","InputAdornment","position","IconButton","sp","onMouseDown","preventDefault","Visibility","VisibilityOff","disabled","createHash","update","digest","history","push","src","AdminPage","newUser","setNewUser","users","setUsers","answer","setAnswer","clean","passwordChanged","handleChangeField","checked","handleMouseDownPassword","length","index","key","TextField","label","defaultValue","firstName","lastName","email","Checkbox","defaultChecked","color","foundUser","handleSaveUser","startIcon","Save","filter","ans","Delete","Fab","aria-label","concat","Add","InfoPage","onRowAdd","onRowDelete","slice","ResultPage","setColumns","setData","sortedMatches","sort","b","onlyMatches","add","style","i","realMatch","visability","App","exact","path","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8499d238.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport const PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      localStorage.getItem(\"user\") ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect\r\n          to={{ pathname: \"/login\", state: { from: props.location } }}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n","const localBackendHost = \"http://localhost:4000\";\r\nconst cloudBackendHost = \"https://node-euro-2021.ew.r.appspot.com\";\r\nlet teams = {};\r\n\"Бельгия,Италия,Россия,Финляндия,Франция,Польша,Украина,Испания,Турция,Англия,Чехия,Швеция,Нидерланды,Германия,Хорватия,Австрия,Португалия,Швейцария,Дания,Уэльс\"\r\n  .split(\",\")\r\n  .forEach((item) => (teams = { ...teams, [item]: item }));\r\n\r\nconst backendHost = cloudBackendHost;\r\n\r\nconst calcPets = (home, away, realHome, realAway) => {\r\n  if (\r\n    home === null ||\r\n    away === null ||\r\n    realHome === null ||\r\n    realAway === null\r\n  ) {\r\n    return 0;\r\n  }\r\n  const difference = home - away;\r\n  const realDifference = realHome - realAway;\r\n  switch (true) {\r\n    case home === realHome && away === realAway:\r\n      return 5;\r\n    case difference === realDifference:\r\n      return 3;\r\n    case (difference > 0 && realDifference > 0) ||\r\n      (difference < 0 && realDifference < 0) ||\r\n      (difference === 0 && realDifference === 0):\r\n      return 1;\r\n    default:\r\n      return 0;\r\n  }\r\n};\r\n\r\nconst authHeader = () => {\r\n  // return authorization header with basic auth credentials\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  return user && user.authdata\r\n    ? {\r\n        Authorization: \"Basic \" + user.authdata,\r\n        \"Content-Type\": \"application/json\",\r\n      }\r\n    : {};\r\n};\r\n\r\nconst logout = () => localStorage.removeItem(\"user\");\r\n\r\nconst handleResponse = async (response) => {\r\n  const data = await response.json();\r\n  //const data = text && JSON.parse(text)\r\n  if (!response.ok) {\r\n    if (response.status === 401) {\r\n      // auto logout if 401 response returned from api\r\n      logout();\r\n      window.location.reload(true); //добавил window\r\n    }\r\n    return Promise.reject((data && data.message) || response.statusText);\r\n  }\r\n  return data;\r\n};\r\n\r\nconst request = async (url, method, requestOptions) =>\r\n  await handleResponse(\r\n    await fetch(`${backendHost}/${url}`, {\r\n      method: method,\r\n      headers: authHeader(),\r\n      ...(requestOptions ? requestOptions : {}),\r\n    })\r\n  );\r\n\r\nconst requestObj = {\r\n  get: async (url, requestOptions) => await request(url, \"GET\", requestOptions),\r\n  post: async (url, requestOptions) => await request(url, \"POST\", requestOptions),\r\n  put: async (url, requestOptions) => await request(url, \"PUT\", requestOptions),\r\n  delete: async (url, requestOptions) => await request(url, \"DELETE\", requestOptions),\r\n};\r\n\r\n// let requestObj = {};\r\n// \"GET,POST,PUT,DELETE\".split(\",\").forEach(\r\n//   (item) =>\r\n//     (requestObj = {\r\n//       ...requestObj,\r\n//       [item.toLowerCase()]: async (url, requestOptions) =>\r\n//         await request(url, item, requestOptions),\r\n//     })\r\n// );\r\n\r\nexport const backendService = {\r\n  login: async (username, password) => {\r\n    const user = await requestObj.post(`users/authenticate`, {\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ username, password }),\r\n    });\r\n    if (user) {\r\n      user.authdata = window.btoa(username + \":\" + password);\r\n      localStorage.setItem(\"user\", JSON.stringify(user));\r\n    }\r\n    return user;\r\n  },\r\n  logout: logout,\r\n  updateOne: async (type, obj) =>\r\n    await requestObj.put(`${type}/${obj._id}`, {\r\n      body: JSON.stringify({ ...obj }),\r\n    }),\r\n  addOne: async (type, obj) =>\r\n    await requestObj.post(type, { body: JSON.stringify({ ...obj }) }),\r\n  deleteOne: async (type, id) => requestObj.delete(`${type}/${id}`),\r\n  getAll: async (type) => await requestObj.get(type),\r\n  getStakesByUserId: async (id) => await requestObj.get(`users/${id}/stakes`),\r\n  setStakesByUserId: async (id, stake) =>\r\n    await requestObj.put(`users/${id}/stakes/${stake.matchNo}`, {\r\n      body: JSON.stringify({ ...stake }),\r\n    }),\r\n  teams,\r\n  calcPets,\r\n};\r\n\r\n// const localBackendHost = \"http://localhost:4000\";\r\n// const cloudBackendHost = \"http://node-euro-2021.appspot.com\";\r\n// const teams = {\r\n//   Бельгия: \"Бельгия\",\r\n//   Италия: \"Италия\",\r\n//   Россия: \"Россия\",\r\n//   Финляндия: \"Финляндия\",\r\n//   Франция: \"Франция\",\r\n//   Польша: \"Польша\",\r\n//   Украина: \"Украина\",\r\n//   Испания: \"Испания\",\r\n//   Турция: \"Турция\",\r\n//   Англия: \"Англия\",\r\n//   Чехия: \"Чехия\",\r\n//   Швеция: \"Швеция\",\r\n//   Нидерланды: \"Нидерланды\",\r\n//   Германия: \"Германия\",\r\n//   Хорватия: \"Хорватия\",\r\n//   Австрия: \"Австрия\",\r\n//   Португалия: \"Португалия\",\r\n//   Швейцария: \"Швейцария\",\r\n//   Дания: \"Дания\",\r\n//   Уэльс: \"Уэльс\",\r\n// };\r\n\r\n// const backendHost = localBackendHost;\r\n\r\n// const calcPets = ( home, away, realHome, realAway) => {\r\n//   if(home===null || away === null || realHome ===null || realAway === null) return 0;\r\n//   let difference = home - away;\r\n//   let realDifference = realHome - realAway;\r\n//   if (home === realHome && away === realAway) {\r\n//     return 5;\r\n//   } else if (difference === realDifference) {\r\n//     return 3;\r\n//   } else if (\r\n//     (difference > 0 && realDifference > 0) ||\r\n//     (difference < 0 && realDifference < 0) ||\r\n//     (difference === 0 && realDifference === 0)\r\n//   ) {\r\n//     return 1;\r\n//   } else return 0;\r\n// }\r\n\r\n// const authHeader = () => {\r\n//   // return authorization header with basic auth credentials\r\n//   let user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n//   if (user && user.authdata) {\r\n//     return {\r\n//       Authorization: \"Basic \" + user.authdata,\r\n//       \"Content-Type\": \"application/json\",\r\n//     };\r\n//   } else {\r\n//     return {};\r\n//   }\r\n// }\r\n\r\n//  const login = async (username, password) => {\r\n//   const requestOptions = {\r\n//     method: \"POST\",\r\n//     headers: { \"Content-Type\": \"application/json\" },\r\n//     body: JSON.stringify({ username, password }),\r\n//   };\r\n\r\n//   const response = await fetch(`${backendHost}/users/authenticate`, requestOptions);\r\n//   const user = await handleResponse(response);\r\n//   // login successful if there's a user in the response\r\n//   if (user) {\r\n//     // store user details and basic auth credentials in local storage\r\n//     // to keep user logged in between page refreshes\r\n//     user.authdata = window.btoa(username + \":\" + password);\r\n//     localStorage.setItem(\"user\", JSON.stringify(user));\r\n//   }\r\n//   return user;\r\n// }\r\n\r\n// const logout= ()=>{\r\n//   // remove user from local storage to log user out\r\n//   localStorage.removeItem(\"user\");\r\n// }\r\n\r\n//  const getAll = async (type) => {\r\n//   const requestOptions = {\r\n//     method: \"GET\",\r\n//     headers: authHeader(),\r\n//   };\r\n\r\n//   const response = await fetch(`${backendHost}/${type}`, requestOptions);\r\n//   return handleResponse(response);\r\n// }\r\n\r\n//  const addOne = async (type, obj) => {\r\n//   const requestOptions = {\r\n//     method: \"POST\",\r\n//     headers: authHeader(),\r\n//     body: JSON.stringify({...obj}),\r\n//   };\r\n\r\n//   const response = await fetch(`${backendHost}/${type}/`, requestOptions);\r\n//   return handleResponse(response);\r\n// }\r\n\r\n// const updateOne = async (type, obj) => {\r\n//   const requestOptions = {\r\n//     method: \"PUT\",\r\n//     headers: authHeader(),\r\n//     body: JSON.stringify({...obj}),\r\n//   };\r\n\r\n//   const response = await fetch(`${backendHost}/${type}/${obj._id}`, requestOptions);\r\n//   return handleResponse(response);\r\n// }\r\n\r\n//  const deleteOne = async (type, id) => {\r\n//   const requestOptions = {\r\n//     method: \"DELETE\",\r\n//     headers: authHeader(),\r\n//   };\r\n\r\n//   const response = await fetch(`${backendHost}/${type}/${id}`, requestOptions);\r\n//   return handleResponse(response);\r\n// }\r\n\r\n// const getStakesByUserId = async (id) => {\r\n//   const requestOptions = {\r\n//     method: \"GET\",\r\n//     headers: authHeader(),\r\n//   };\r\n\r\n//   const response = await fetch(`${backendHost}/users/${id}/stakes`, requestOptions);\r\n//   return handleResponse(response);\r\n// }\r\n\r\n//  const setStakesByUserId = async (id, stake) => {\r\n//   const requestOptions = {\r\n//     method: \"PUT\",\r\n//     headers: authHeader(),\r\n//     body: JSON.stringify({...stake}),\r\n//   };\r\n\r\n//   const response = await fetch(`${backendHost}/users/${id}/stakes/${stake.matchNo}`, requestOptions);\r\n//   return handleResponse(response);\r\n// }\r\n\r\n// const handleResponse = (response) => {\r\n//   return response.text().then((text) => {\r\n//     const data = text && JSON.parse(text);\r\n//     if (!response.ok) {\r\n//       if (response.status === 401) {\r\n//         // auto logout if 401 response returned from api\r\n//         logout();\r\n//         window.location.reload(true); //добавил window\r\n//       }\r\n\r\n//       const error = (data && data.message) || response.statusText;\r\n//       return Promise.reject(error);\r\n//     }\r\n//     return data;\r\n//   });\r\n// }\r\n\r\n// export const backendService = {\r\n//   login,\r\n//   logout,\r\n//   updateOne,\r\n//   addOne,\r\n//   deleteOne,\r\n//   getAll,\r\n//   getStakesByUserId,\r\n//   setStakesByUserId,\r\n//   teams,\r\n//   calcPets\r\n// };\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Menu, MenuItem } from \"@material-ui/core\";\r\n\r\nfunction MyMenu(props) {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        aria-controls=\"simple-menu\"\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n      >\r\n        МЕНЮ\r\n      </Button>\r\n      <Menu\r\n        id=\"simple-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={Boolean(anchorEl)}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem>\r\n          {\" \"}\r\n          <Link to=\"/\">Домашняя страница</Link>\r\n        </MenuItem>\r\n        <MenuItem onClick={handleClose}>\r\n          <Link to=\"/result\">Результаты</Link>\r\n        </MenuItem>\r\n        <MenuItem onClick={handleClose}>\r\n          <Link to=\"/info\">Информация</Link>\r\n        </MenuItem>\r\n        {props.currentUser.isAdmin && (\r\n          <MenuItem onClick={handleClose}>\r\n            <Link to=\"/admin\">Администрирование</Link>\r\n          </MenuItem>\r\n        )}\r\n        <MenuItem onClick={handleClose}>\r\n          <Link to=\"/login\">Выйти</Link>\r\n        </MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { MyMenu };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport { backendService } from \"./backend.service\";\r\nimport {MyMenu} from \"./MyMenu\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nfunction HomePage() {\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [stakes, setStakes] = useState({ loading: true });\r\n  const [matches, setMatches] = useState({ loading: true });\r\n\r\n  const columns = [\r\n    { title: \"_id\", field: \"_id\", hidden: true },\r\n    {\r\n      title: \"№\",\r\n      field: \"matchNo\",\r\n      editable: \"never\",\r\n      //      customSort: (a, b) =>( a.matchNo - b.matchNo ),\r\n      defaultSort: \"asc\",\r\n    },\r\n    {\r\n      title: \"Home\",\r\n      field: \"homeName\",\r\n      lookup: backendService.teams,\r\n      editable: \"never\",\r\n    },\r\n    { title: \"Score\", field: \"home\", type: \"numeric\" },\r\n    {\r\n      title: \"Away\",\r\n      field: \"awayName\",\r\n      lookup: backendService.teams,\r\n      editable: \"never\",\r\n    },\r\n    { title: \"Score\", field: \"away\", type: \"numeric\" },\r\n    {\r\n      title: \"Coefficient\",\r\n      field: \"coefficient\",\r\n      type: \"numeric\",\r\n      editable: \"never\",\r\n    },\r\n    { title: \"Enable\", field: \"enable\", type: \"boolean\", editable: \"never\" },\r\n    {\r\n      title: \"Pets\",\r\n      field: \"pets\",\r\n    },\r\n    //  { title: \"MySk\", render: rowData => <div>Матч {rowData.homeName} - {rowData.awayName} сыгран, счёт {rowData.realHome} : {rowData.realAway}</div>},\r\n    // { title: \"Pets\", field: \"pets\", type: \"numeric\",  editable: \"never\" }\r\n    // {\r\n    //   title: \"Pets\",\r\n    //   render: (rowData) => (\r\n    //     <div\r\n    //       style={{ backgroundColor: rowData[\"pets\"] === 5 ? \"red\" : rowData[\"pets\"] === 3 ? \"yellow\" : rowData[\"pets\"] === 1? \"green\" : \"white\"  }}\r\n    //     >\r\n    //       {rowData.pets}{\" \"}\r\n    //     </div>\r\n    //   ),\r\n    // },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    setCurrentUser(user);\r\n    backendService\r\n      .getStakesByUserId(user._id)\r\n      .then((stakes) => setStakes(stakes));\r\n    backendService.getAll(\"matches\").then((matches) => setMatches(matches));\r\n  }, []);\r\n\r\n  const getMergedArray = (stakesArr, matchesArr) => {\r\n    return matchesArr.map((match) => {\r\n      let stake = stakesArr.find((item) => item.matchNo === match.matchNo);\r\n      if (stake !== undefined && match.matchNo === stake.matchNo) {\r\n        let temp = Object.assign({}, match); //может можно без копирования объекта\r\n        temp.home = stake.home;\r\n        temp.away = stake.away;\r\n        temp.realHome = match.home;\r\n        temp.realAway = match.away;\r\n        temp.pets = backendService.calcPets(\r\n          temp.home,\r\n          temp.away,\r\n          temp.realHome,\r\n          temp.realAway\r\n        );\r\n        return (match = temp);\r\n      } else {\r\n        return match;\r\n      }\r\n    });\r\n  };\r\n\r\n  if (matches.loading || stakes.loading)\r\n    return <div><CircularProgress/> </div>;\r\n\r\n  return (\r\n    <div>\r\n      <MyMenu currentUser = {currentUser} />\r\n      <MaterialTable\r\n        options={{\r\n          pageSize: 10,\r\n          pageSizeOptions: [10, 60],\r\n          sorting: true,\r\n          rowStyle: (rowData) => {\r\n            if (rowData.pets === 5) {\r\n              return { backgroundColor: \"#C9B037\" }; //gold\r\n            } else if (rowData.pets === 3) {\r\n              return { backgroundColor: \"#B4B4B4\" }; //silver\r\n            } else if (rowData.pets === 1) {\r\n              return { backgroundColor: \"#AD8A56\" }; //bronze\r\n            }\r\n          },\r\n        }}\r\n        title={`Это домашняя страница, тут нужно делать ставки, ${currentUser.username}`}\r\n        columns={columns}\r\n        data={getMergedArray(stakes, matches)}\r\n        detailPanel={(rowData) => {\r\n          if (rowData.enable === false) {\r\n            return (\r\n              <div>\r\n                Матч {rowData.homeName} - {rowData.awayName} сыгран, счёт{\" \"}\r\n                {rowData.realHome} : {rowData.realAway}\r\n              </div>\r\n            );\r\n          }\r\n        }}\r\n        editable={{\r\n          isEditable: (rowData) => rowData.enable === true,\r\n          onRowUpdate: (newData, oldData) =>\r\n            backendService\r\n              .setStakesByUserId(currentUser._id, {\r\n                // matchNo: newData.matchNo,\r\n                // home: newData.home,\r\n                // away: newData.away,\r\n                ...newData,\r\n              })\r\n              .then((data) => {\r\n                setStakes((stakes) =>\r\n                  stakes.map((item) => {\r\n                    let updatedStake = data.stakes.find(\r\n                      (st) => st.matchNo === newData.matchNo\r\n                    );\r\n                    if (item.matchNo === updatedStake.matchNo) {\r\n                      let temp = Object.assign({}, item);\r\n                      temp.home = updatedStake.home;\r\n                      temp.away = updatedStake.away;\r\n                      return (item = temp);\r\n                    } else {\r\n                      return item;\r\n                    }\r\n                  })\r\n                );\r\n              }),\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\nexport { HomePage };\r\n","import React, { useState } from \"react\";\r\nimport { backendService } from \"./backend.service\";\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\r\nimport {\r\n  Visibility,\r\n  VisibilityOff,\r\n} from \"@material-ui/icons\";\r\nimport {\r\n  Button,\r\n  Grid,\r\n  Typography,\r\n  Input,\r\n  InputLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  FormControl,\r\n} from \"@material-ui/core\";\r\n\r\nlet crypto = require(\"crypto\");\r\n\r\nconst LoginPage = (props) => {\r\n  backendService.logout();\r\n  const [state, setState] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    loading: false,\r\n    submitted: false,\r\n    showPassword: false\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setState((state) => ({ ...state, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    setState((state) => ({ ...state, submitted: true }));\r\n    const { username, password } = state;\r\n\r\n    // stop here if form is invalid\r\n    if (!(username && password)) {\r\n      return;\r\n    }\r\n\r\n    setState((state) => ({ ...state, loading: true }));\r\n    backendService\r\n      .login(\r\n        username,\r\n        crypto.createHash(\"sha256\").update(password).digest(\"base64\")\r\n      )\r\n      .then(\r\n        () => {\r\n          const { from } = props.location.state || {\r\n            from: { pathname: \"/\" },\r\n          };\r\n          props.history.push(from);\r\n        },\r\n        (error) => {\r\n          setState((state) => ({ ...state, error: error, loading: false }));\r\n        }\r\n      );\r\n  };\r\n\r\n  const handleClickShowPassword = (sp) => {\r\n    setState((state) => ({ ...state, showPassword: sp }));\r\n };\r\n\r\n const handleMouseDownPassword = (event) => {\r\n   event.preventDefault();\r\n };\r\n // добавить Alert вместо div и ShowPassword\r\n  return (\r\n    <Grid container>\r\n      <Grid item>\r\n        <Typography variant=\"h3\" gutterBottom>\r\n          Login:\r\n        </Typography>\r\n      </Grid>\r\n\r\n        <Grid container>\r\n          <FormControl>\r\n            <InputLabel htmlFor=\"username\">Username</InputLabel>\r\n            <Input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"username\"\r\n              value={state.username}\r\n              onChange={handleChange}\r\n            />\r\n            {state.submitted && !state.username && (\r\n                      <Alert severity=\"warning\">\r\n                      <AlertTitle>Username is required</AlertTitle>\r\n                    </Alert>\r\n            )}\r\n          </FormControl>\r\n          <FormControl>\r\n            <InputLabel htmlFor=\"password\">Password</InputLabel>\r\n            <Input\r\n              type={state.showPassword ? \"text\" : \"password\"}\r\n              className=\"form-control\"\r\n              name=\"password\"\r\n              value={state.password}\r\n              onChange={handleChange}\r\n              endAdornment={\r\n                <InputAdornment position=\"end\">\r\n                  <IconButton\r\n                    onClick={() => handleClickShowPassword(!state.showPassword)}\r\n                    onMouseDown={handleMouseDownPassword}\r\n                  >\r\n                    {state.showPassword ? (\r\n                      <Visibility />\r\n                    ) : (\r\n                      <VisibilityOff />\r\n                    )}\r\n                  </IconButton>\r\n                </InputAdornment>\r\n              }\r\n            />\r\n            {state.submitted && !state.password && (\r\n                      <Alert severity=\"warning\">\r\n                      <AlertTitle>Password is required</AlertTitle>\r\n                    </Alert>\r\n            )}\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid item>\r\n          <Button type=\"submit\" variant=\"contained\" disabled={state.loading} onClick={handleSubmit}>\r\n            Login\r\n          </Button>\r\n          {state.loading && (\r\n            <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\r\n          )}\r\n            {state.error && (\r\n            <Alert severity=\"error\">\r\n              <AlertTitle> {state.error}</AlertTitle>\r\n            </Alert>\r\n          )}\r\n        </Grid>\r\n      \r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport { LoginPage };\r\n\r\n// import React, { useState, useEffect } from \"react\";\r\n// import { backendService } from \"./backend.service\";\r\n\r\n// let crypto = require('crypto');\r\n\r\n// class LoginPage extends React.Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n\r\n//     backendService.logout();\r\n\r\n//     this.state = {\r\n//       username: \"\",\r\n//       password: \"\",\r\n//       submitted: false,\r\n//       loading: false,\r\n//       error: \"\",\r\n//     };\r\n\r\n//     this.handleChange = this.handleChange.bind(this);\r\n//     this.handleSubmit = this.handleSubmit.bind(this);\r\n//   }\r\n\r\n//   handleChange(e) {\r\n//     const { name, value } = e.target;\r\n//     this.setState({ [name]: value });\r\n//   }\r\n\r\n//   handleSubmit(e) {\r\n//     e.preventDefault();\r\n\r\n//     this.setState({ submitted: true });\r\n//     const { username, password, returnUrl } = this.state;\r\n\r\n//     // stop here if form is invalid\r\n//     if (!(username && password)) {\r\n//       return;\r\n//     }\r\n\r\n//     this.setState({ loading: true });\r\n//     backendService.login(username, crypto.createHash('sha256').update(password).digest('base64')).then(\r\n//       (user) => {\r\n//         const { from } = this.props.location.state || {\r\n//           from: { pathname: \"/\" },\r\n//         };\r\n//         this.props.history.push(from);\r\n//       },\r\n//       (error) => this.setState({ error, loading: false })\r\n//     );\r\n//   }\r\n\r\n//   render() {\r\n//     const { username, password, submitted, loading, error } = this.state;\r\n//     return (\r\n//       <div className=\"col-md-6 col-md-offset-3\">\r\n//         <div className=\"alert alert-info\">\r\n//           Username: test\r\n//           <br />\r\n//           Password: test\r\n//         </div>\r\n//         <h2>Login</h2>\r\n//         <form name=\"form\" onSubmit={this.handleSubmit}>\r\n//           <div\r\n//             className={\r\n//               \"form-group\" + (submitted && !username ? \" has-error\" : \"\")\r\n//             }\r\n//           >\r\n//             <label htmlFor=\"username\">Username</label>\r\n//             <input\r\n//               type=\"text\"\r\n//               className=\"form-control\"\r\n//               name=\"username\"\r\n//               value={username}\r\n//               onChange={this.handleChange}\r\n//             />\r\n//             {submitted && !username && (\r\n//               <div className=\"help-block\">Username is required</div>\r\n//             )}\r\n//           </div>\r\n//           <div\r\n//             className={\r\n//               \"form-group\" + (submitted && !password ? \" has-error\" : \"\")\r\n//             }\r\n//           >\r\n//             <label htmlFor=\"password\">Password</label>\r\n//             <input\r\n//               type=\"password\"\r\n//               className=\"form-control\"\r\n//               name=\"password\"\r\n//               value={password}\r\n//               onChange={this.handleChange}\r\n//             />\r\n//             {submitted && !password && (\r\n//               <div className=\"help-block\">Password is required</div>\r\n//             )}\r\n//           </div>\r\n//           <div className=\"form-group\">\r\n//             <button className=\"btn btn-primary\" disabled={loading}>\r\n//               Login\r\n//             </button>\r\n//             {loading && (\r\n//               <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\r\n//             )}\r\n//           </div>\r\n//           {error && <div className={\"alert alert-danger\"}>{error}</div>}\r\n//         </form>\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export { LoginPage };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { backendService } from \"./backend.service\";\r\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\r\nimport {\r\n  Visibility,\r\n  VisibilityOff,\r\n  Save,\r\n  Delete,\r\n  Add,\r\n} from \"@material-ui/icons\";\r\nimport {\r\n  Checkbox,\r\n  Button,\r\n  Grid,\r\n  Typography,\r\n  Input,\r\n  InputLabel,\r\n  IconButton,\r\n  InputAdornment,\r\n  TextField,\r\n  FormControl,\r\n  Fab,\r\n  CircularProgress,\r\n} from \"@material-ui/core\";\r\nimport { MyMenu } from \"./MyMenu\";\r\n\r\nconst crypto = require(\"crypto\");\r\n\r\nfunction AdminPage() {\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [newUser, setNewUser] = useState(\"\");\r\n  const [users, setUsers] = useState({ loading: true });\r\n  const [answer, setAnswer] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let clean = false;\r\n    setCurrentUser(JSON.parse(localStorage.getItem(\"user\")));\r\n    backendService.getAll(\"users\").then((users) => {\r\n      //это чтобы избежать рендера на не существующих объектах\r\n      if (!clean) {\r\n        setUsers(\r\n          users.map((item) => ({\r\n            ...item,\r\n            passwordChanged: false,\r\n            showPassword: false,\r\n          }))\r\n        );\r\n      }\r\n    });\r\n    return () => (clean = true);\r\n  }, []);\r\n\r\n  const handleAddItem = () => {\r\n    backendService\r\n      .addOne(\"users\", { username: newUser.username })\r\n      .then((newUser) => {\r\n        setUsers((users) => users.concat(newUser));\r\n        setAnswer(\r\n          JSON.parse(`{\"message\":\"User ${newUser.username} has been added\"}`)\r\n        );\r\n        setNewUser({ username: \"\" });\r\n      });\r\n  };\r\n\r\n  const handleChangeNewUserName = (event) => {\r\n    setNewUser({ username: event.target.value });\r\n  };\r\n\r\n  const handleDeleteUser = (id) => {\r\n    backendService\r\n      .deleteOne(\"users\", id)\r\n      .then(setUsers((users) => users.filter((item) => item._id !== id)))\r\n      .then((ans) => setAnswer(ans));\r\n  };\r\n\r\n  const handleSaveUser = (id) => {\r\n    const foundUser = { ...users.find((item) => item._id === id) };\r\n    backendService\r\n      .updateOne(\"users\", {\r\n        ...foundUser,\r\n        password: foundUser.passwordChanged\r\n          ? crypto\r\n              .createHash(\"sha256\")\r\n              .update(foundUser.password)\r\n              .digest(\"base64\")\r\n          : foundUser.password,\r\n      })\r\n      .then((data) => {\r\n        setUsers(\r\n          users.map((item) => (item._id === data._id ? (item = data) : item))\r\n        );\r\n        setAnswer(\r\n          JSON.parse(`{\"message\":\"User ${data.username} has been changed\"}`)\r\n        );\r\n      });\r\n  };\r\n\r\n  // const handleChangeField = (event) => {\r\n  //   let value = event.target.value\r\n  //   const { name, id } = event.target\r\n  //   if (name === 'isAdmin') {\r\n  //     value = event.target.checked\r\n  //   }\r\n  //   setUsers(users.map((item) => ({ ...item, name: item._id === id ? value : name })))\r\n  // }\r\n\r\n  const handleChangeField = (e) => {\r\n    let { name, value, id } = e.target;\r\n    if (name === \"isAdmin\") {\r\n      value = e.target.checked;\r\n    }\r\n    setUsers((users) =>\r\n      users.map((item) => {\r\n        if (item._id === id) {\r\n          let temp = Object.assign({}, item);\r\n          temp[name] = value;\r\n          if (name === \"password\") temp.passwordChanged = true;\r\n          return (item = temp);\r\n        } else {\r\n          return item;\r\n        }\r\n      })\r\n    );\r\n  };\r\n\r\n  const handleClickShowPassword = (id) => {\r\n    setUsers(\r\n      users.map((item) => ({\r\n        ...item,\r\n        showPassword: item._id === id ? !item.showPassword : item.showPassword,\r\n      }))\r\n    );\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  //тут можно модную крутилку добавить CircularProgress или еще чего.\r\n  if (users.loading) return <div><CircularProgress/></div>;\r\n\r\n  if (currentUser.isAdmin) {\r\n    return (\r\n      <Grid container>\r\n        <Grid item>\r\n          <MyMenu currentUser={currentUser} />\r\n        </Grid>\r\n        <Grid item>\r\n          <Typography variant=\"h3\" gutterBottom>\r\n            Users control panel: {currentUser.username}\r\n          </Typography>\r\n        </Grid>\r\n        {users.length && (\r\n          <Grid container>\r\n            {users.map((user, index) => (\r\n              <Grid item key={user._id}>\r\n                <TextField\r\n                  type=\"text_u\"\r\n                  label=\"Username\"\r\n                  id={user._id}\r\n                  name=\"username\"\r\n                  defaultValue={user.username}\r\n                  onChange={handleChangeField}\r\n                />\r\n                <FormControl>\r\n                  <InputLabel htmlFor=\"standard-adornment-password\">\r\n                    Password\r\n                  </InputLabel>\r\n                  <Input\r\n                    id={user._id}\r\n                    type={user.showPassword ? \"text\" : \"password\"}\r\n                    name=\"password\"\r\n                    //                    defaultValue={user.password}\r\n                    onChange={handleChangeField}\r\n                    endAdornment={\r\n                      <InputAdornment position=\"end\">\r\n                        <IconButton\r\n                          onClick={() => handleClickShowPassword(user._id)}\r\n                          onMouseDown={handleMouseDownPassword}\r\n                        >\r\n                          {user.showPassword ? (\r\n                            <Visibility />\r\n                          ) : (\r\n                            <VisibilityOff />\r\n                          )}\r\n                        </IconButton>\r\n                      </InputAdornment>\r\n                    }\r\n                  />\r\n                </FormControl>\r\n                <TextField\r\n                  type=\"text_f\"\r\n                  label=\"First name\"\r\n                  id={user._id}\r\n                  name=\"firstName\"\r\n                  defaultValue={user.firstName}\r\n                  onChange={handleChangeField}\r\n                />\r\n                <TextField\r\n                  type=\"text_l\"\r\n                  label=\"Last name\"\r\n                  id={user._id}\r\n                  name=\"lastName\"\r\n                  defaultValue={user.lastName}\r\n                  onChange={handleChangeField}\r\n                />\r\n                <TextField\r\n                  type=\"text_e\"\r\n                  label=\"Email\"\r\n                  id={user._id}\r\n                  name=\"email\"\r\n                  defaultValue={user.email}\r\n                  onChange={handleChangeField}\r\n                />\r\n                <Checkbox\r\n                  type=\"checkbox\"\r\n                  id={user._id}\r\n                  name=\"isAdmin\"\r\n                  defaultChecked={user.isAdmin}\r\n                  onClick={handleChangeField}\r\n                />\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={() => handleSaveUser(user._id)}\r\n                  startIcon={<Save />}\r\n                >\r\n                  {\" \"}\r\n                  Save{\" \"}\r\n                </Button>\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"contained\"\r\n                  onClick={() => handleDeleteUser(user._id)}\r\n                  startIcon={<Delete />}\r\n                >\r\n                  {\" \"}\r\n                  Delete{\" \"}\r\n                </Button>\r\n                <br />\r\n                <br />\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        )}\r\n        <Grid item>\r\n          <TextField\r\n            type=\"text_ a\"\r\n            onChange={handleChangeNewUserName}\r\n            value={newUser.username}\r\n          />\r\n          <Fab\r\n            color=\"primary\"\r\n            aria-label=\"add\"\r\n            onClick={handleAddItem}\r\n            disabled={!newUser}\r\n          >\r\n            <Add />\r\n          </Fab>\r\n          <br />\r\n          <br />\r\n          {answer && (\r\n            <Alert severity=\"success\">\r\n              <AlertTitle> {answer.message}</AlertTitle>\r\n            </Alert>\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  } else\r\n    return (\r\n      <div>\r\n        <h1>Access denied</h1>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport { AdminPage };\r\n\r\n// import React, { useState, useEffect } from \"react\";\r\n// import { backendService } from \"./backend.service\";\r\n// import { Alert, AlertTitle } from \"@material-ui/lab\";\r\n// import {\r\n//   Visibility,\r\n//   VisibilityOff,\r\n//   Save,\r\n//   Delete,\r\n//   Add,\r\n// } from \"@material-ui/icons\";\r\n// import {\r\n//   Checkbox,\r\n//   Button,\r\n//   Grid,\r\n//   Typography,\r\n//   Input,\r\n//   InputLabel,\r\n//   IconButton,\r\n//   InputAdornment,\r\n//   TextField,\r\n//   FormControl,\r\n//   Fab,\r\n// } from \"@material-ui/core\";\r\n// import { Link } from \"react-router-dom\";\r\n\r\n// let crypto = require('crypto');\r\n\r\n// function AdminPage() {\r\n//   const [currentUser, setCurrentUser] = useState({});\r\n//   const [newUser, setNewUser] = useState(\"\");\r\n//   const [users, setUsers] = useState({ loading: true });\r\n//   const [answer, setAnswer] = useState(false);\r\n\r\n//   // useEffect(async ()=>{\r\n//   //     setCurrentUser(JSON.parse(localStorage.getItem('user')));\r\n//   //     setUsers(await userService.getAll().then(users=>\r\n//   //         users.map((item) =>{\r\n//   //             let temp = Object.assign({}, item);\r\n//   //             temp.showPassword = false;\r\n//   //             return item = temp;\r\n//   //         } )\r\n//   //     ))\r\n//   // },[]);\r\n\r\n//   useEffect(() => {\r\n//     setCurrentUser(JSON.parse(localStorage.getItem(\"user\")));\r\n//     (async () => {\r\n//       setUsers(\r\n//         await backendService.getAll(\"users\").then((users) =>\r\n//           users.map((item) => {\r\n//             let temp = Object.assign({}, item);\r\n//             temp.showPassword = false;\r\n//             return (item = temp);\r\n//           })\r\n//         )\r\n//       );\r\n//     })();\r\n//   }, []);\r\n\r\n//   function handleAddItem() {\r\n//     backendService\r\n//       .addOne(\"users\", { username: newUser.username })\r\n//       .then((newUser) => {\r\n//         setUsers((users) => users.concat(newUser));\r\n//         setAnswer(\r\n//           JSON.parse(`{\"message\":\"User ${newUser.username} has been added\"}`)\r\n//         );\r\n//       });\r\n//   }\r\n\r\n//   function handleChangeNewUserName(e) {\r\n//     setNewUser({ username: e.target.value });\r\n//   }\r\n\r\n//   function handleDeleteUser(id) {\r\n//     backendService\r\n//       .deleteOne(\"users\", id)\r\n//       .then(setUsers((users) => users.filter((item) => item._id !== id)))\r\n//       .then((ans) => setAnswer(ans));\r\n//   }\r\n\r\n//   function handleSaveUser(id) {\r\n//     let foundUser = users.find((item) => item._id === id);\r\n//     backendService\r\n//       .updateOne(\"users\", {\r\n//         _id: foundUser._id,\r\n//         // 'username': document.getElementById(`username_${e.target.id}`).value,\r\n//         username: foundUser.username,\r\n//         password: crypto.createHash('sha256').update(foundUser.password).digest('base64'),\r\n//         firstName: foundUser.firstName,\r\n//         lastName: foundUser.lastName,\r\n//         email: foundUser.email,\r\n//         isAdmin: foundUser.isAdmin,\r\n//       })\r\n//       .then((data) => {\r\n//         setUsers((users) =>\r\n//           users.map((item) => {\r\n//             if (item._id === data._id) {\r\n//               return (item = data);\r\n//             } else {\r\n//               return item;\r\n//             }\r\n//           })\r\n//         );\r\n//         setAnswer(\r\n//           JSON.parse(`{\"message\":\"User ${data.username} has been changed\"}`)\r\n//         );\r\n//       });\r\n//   }\r\n\r\n//   function handleChangeField(e) {\r\n//     let { name, value, id } = e.target;\r\n//     if (name === \"isAdmin\") {\r\n//       value = e.target.checked;\r\n//     }\r\n//     setUsers((users) =>\r\n//       users.map((item) => {\r\n//         if (item._id === id) {\r\n//           let temp = Object.assign({}, item);\r\n//           temp[name] = value;\r\n//           return (item = temp);\r\n//         } else {\r\n//           return item;\r\n//         }\r\n//       })\r\n//     );\r\n//   }\r\n\r\n//   const handleClickShowPassword = (id) => {\r\n//     setUsers((users) =>\r\n//       users.map((item) => {\r\n//         if (item._id === id) {\r\n//           let temp = Object.assign({}, item);\r\n//           temp.showPassword = !item.showPassword;\r\n//           return (item = temp);\r\n//         } else {\r\n//           return item;\r\n//         }\r\n//       })\r\n//     );\r\n//   };\r\n\r\n//   const handleMouseDownPassword = (event) => {\r\n//     event.preventDefault();\r\n//   };\r\n\r\n//   if (users.loading) return <div>Loading information...</div>;\r\n\r\n//   if (currentUser.isAdmin) {\r\n//     return (\r\n//       <Grid container>\r\n//         <Grid item>\r\n//           <Typography variant=\"h3\" gutterBottom>\r\n//             Users control panel: {currentUser.username}\r\n//           </Typography>\r\n//         </Grid>\r\n//         {users.length && (\r\n//           <Grid container>\r\n//             {users.map((user, index) => (\r\n//               <Grid item key={user._id}>\r\n//                 <TextField\r\n//                   type=\"text_u\"\r\n//                   label=\"Username\"\r\n//                   id={user._id}\r\n//                   name=\"username\"\r\n//                   defaultValue={user.username}\r\n//                   onChange={handleChangeField}\r\n//                 />\r\n//                 <FormControl>\r\n//                   <InputLabel htmlFor=\"standard-adornment-password\">\r\n//                     Password\r\n//                   </InputLabel>\r\n//                   <Input\r\n//                     id={user._id}\r\n//                     type={user.showPassword ? \"text\" : \"password\"}\r\n//                     name=\"password\"\r\n// //                    defaultValue={user.password}\r\n//                     onChange={handleChangeField}\r\n//                     endAdornment={\r\n//                       <InputAdornment position=\"end\">\r\n//                         <IconButton\r\n//                           onClick={() => handleClickShowPassword(user._id)}\r\n//                           onMouseDown={handleMouseDownPassword}\r\n//                         >\r\n//                           {user.showPassword ? (\r\n//                             <Visibility />\r\n//                           ) : (\r\n//                             <VisibilityOff />\r\n//                           )}\r\n//                         </IconButton>\r\n//                       </InputAdornment>\r\n//                     }\r\n//                   />\r\n//                 </FormControl>\r\n//                 <TextField\r\n//                   type=\"text_f\"\r\n//                   label=\"First name\"\r\n//                   id={user._id}\r\n//                   name=\"firstName\"\r\n//                   defaultValue={user.firstName}\r\n//                   onChange={handleChangeField}\r\n//                 />\r\n//                 <TextField\r\n//                   type=\"text_l\"\r\n//                   label=\"Last name\"\r\n//                   id={user._id}\r\n//                   name=\"lastName\"\r\n//                   defaultValue={user.lastName}\r\n//                   onChange={handleChangeField}\r\n//                 />\r\n//                 <TextField\r\n//                   type=\"text_e\"\r\n//                   label=\"Email\"\r\n//                   id={user._id}\r\n//                   name=\"email\"\r\n//                   defaultValue={user.email}\r\n//                   onChange={handleChangeField}\r\n//                 />\r\n//                 <Checkbox\r\n//                   type=\"checkbox\"\r\n//                   id={user._id}\r\n//                   name=\"isAdmin\"\r\n//                   defaultChecked={user.isAdmin}\r\n//                   onClick={handleChangeField}\r\n//                 />\r\n//                 <Button\r\n//                   type=\"button\"\r\n//                   variant=\"contained\"\r\n//                   color=\"primary\"\r\n//                   onClick={() => handleSaveUser(user._id)}\r\n//                   startIcon={<Save />}\r\n//                 >\r\n//                   {\" \"}\r\n//                   Save{\" \"}\r\n//                 </Button>\r\n//                 <Button\r\n//                   type=\"button\"\r\n//                   variant=\"contained\"\r\n//                   onClick={() => handleDeleteUser(user._id)}\r\n//                   startIcon={<Delete />}\r\n//                 >\r\n//                   {\" \"}\r\n//                   Delete{\" \"}\r\n//                 </Button>\r\n//                 <br />\r\n//                 <br />\r\n//               </Grid>\r\n//             ))}\r\n//           </Grid>\r\n//         )}\r\n//         <Grid item>\r\n//           <TextField type=\"text_ a\" onChange={handleChangeNewUserName} />\r\n//           <Fab\r\n//             color=\"primary\"\r\n//             aria-label=\"add\"\r\n//             onClick={handleAddItem}\r\n//             disabled={!newUser}\r\n//           >\r\n//             {\" \"}\r\n//             <Add />\r\n//           </Fab>\r\n//           <br />\r\n//           <br />\r\n//           {answer && (\r\n//             <Alert severity=\"success\">\r\n//               <AlertTitle> {answer.message}</AlertTitle>\r\n//             </Alert>\r\n//           )}\r\n//           <p>\r\n//             <Link to=\"/\">Home</Link>{\" \"}\r\n//             <Link to=\"/result\">Result</Link>{\" \"}\r\n//             <Link to=\"/info\">Info</Link>{\" \"}\r\n//             <Link to=\"/login\">Logout</Link>\r\n//           </p>\r\n//         </Grid>\r\n//       </Grid>\r\n//     );\r\n//   } else\r\n//     return (\r\n//       <div>\r\n//         <h1>Access denied</h1>\r\n//       </div>\r\n//     );\r\n// }\r\n\r\n// export { AdminPage };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport { backendService } from \"./backend.service\";\r\nimport { MyMenu } from \"./MyMenu\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nfunction InfoPage() {\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [matches, setMatches] = useState({ loading: true });\r\n\r\n  const columns = [\r\n    { title: \"_id\", field: \"_id\", hidden: true },\r\n    { title: \"№\", field: \"matchNo\", defaultSort: \"asc\" },\r\n    { title: \"Home\", field: \"homeName\", lookup: backendService.teams },\r\n    { title: \"Score\", field: \"home\", type: \"numeric\" },\r\n    { title: \"Away\", field: \"awayName\", lookup: backendService.teams },\r\n    { title: \"Score\", field: \"away\", type: \"numeric\" },\r\n    { title: \"Coefficient\", field: \"coefficient\", type: \"numeric\" },\r\n    { title: \"Enable\", field: \"enable\", type: \"boolean\" },\r\n    { title: \"Visability\", field: \"visability\", type: \"boolean\" },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    setCurrentUser(JSON.parse(localStorage.getItem(\"user\")));\r\n    backendService.getAll(\"matches\").then((matches) => setMatches(matches));\r\n  }, []);\r\n\r\n  if (matches.loading) return <div><CircularProgress/> </div>;\r\n\r\n  if (currentUser.isAdmin) {\r\n    return (\r\n      <div>\r\n        <MyMenu currentUser = {currentUser} />\r\n        <MaterialTable\r\n          options={{\r\n            pageSize: 10,\r\n            pageSizeOptions: [10, 60],\r\n          }}\r\n          title={`Информация о матчах, ${currentUser.username}`}\r\n          columns={columns}\r\n          data={matches}\r\n          editable={{\r\n            onRowAdd: (newData) =>\r\n              backendService\r\n                .addOne(\"matches\", {\r\n                  ...newData,\r\n                })\r\n                .then(setMatches((matches) => matches.concat(newData))),\r\n            onRowUpdate: (newData, oldData) =>\r\n              backendService\r\n                .updateOne(\"matches\", {\r\n                  ...newData,\r\n                })\r\n                .then((data) =>\r\n                  setMatches((matches) => matches.map((item) => (item._id === data._id ? data : item)))),\r\n            onRowDelete: (oldData) =>\r\n                  backendService\r\n                    .deleteOne(\"matches\", oldData._id)\r\n                    .then(setMatches((matches) => matches.filter((item) => item._id !== oldData._id)))\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  } else\r\n    return (\r\n      <div>\r\n        <MyMenu currentUser = {currentUser} />\r\n        <MaterialTable\r\n          options={{\r\n            pageSize: 10,\r\n            pageSizeOptions: [10, 60],\r\n          }}\r\n          title={`Тут информация о матчах, ${currentUser.username}`}\r\n          columns={columns.slice(0, -2)}\r\n          data={matches}\r\n        />\r\n      </div>\r\n    );\r\n}\r\nexport { InfoPage };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport MaterialTable from \"material-table\";\r\nimport { backendService } from \"./backend.service\";\r\nimport { MyMenu } from \"./MyMenu\";\r\n\r\nfunction ResultPage() {\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [columns, setColumns] = useState({ loading: true });\r\n  const [data, setData] = useState({ loading: true });\r\n\r\n  useEffect(() => {\r\n    setCurrentUser(JSON.parse(localStorage.getItem(\"user\")));\r\n\r\n    (async () => {\r\n      const users = await backendService.getAll(\"users\");\r\n      const matches = await backendService.getAll(\"matches\");\r\n      const sortedMatches = matches.sort((a, b) => {\r\n        return a.matchNo - b.matchNo;\r\n      });\r\n      const onlyMatches = sortedMatches.map((match, index) => {\r\n        let add =\r\n          match.home !== null && match.home !== undefined\r\n            ? `(${match.home}:${match.away})`\r\n            : \"\";\r\n        return {\r\n          title: `${match.homeName} - ${match.awayName} ${add}`,\r\n          field: `${match.matchNo}`,\r\n          render: (rowData) => (\r\n            <div\r\n              style={{\r\n                backgroundColor:\r\n                  rowData[`pets_${index + 1}`] === 5\r\n                    ? \"#C9B037\"\r\n                    : rowData[`pets_${index + 1}`] === 3\r\n                    ? \"#B4B4B4\"\r\n                    : rowData[`pets_${index + 1}`] === 1\r\n                    ? \"#AD8A56\"\r\n                    : \"white\",\r\n              }}\r\n            >\r\n              {rowData[index + 1]}\r\n            </div>\r\n          ),\r\n        };\r\n      });\r\n      const columns = [\r\n        { title: \"Пользователи\", field: \"user\" },\r\n        { title: \"Очки\", field: \"pets\" },\r\n      ].concat(onlyMatches);\r\n      setColumns(columns);\r\n\r\n      const data = users.map((user) => {\r\n        let temp = Object.assign({}, user);\r\n        temp.user = user.username;\r\n        temp.pets = 0;\r\n        for (let i = 1; i < 52; i++) {\r\n          let match = user.stakes.find((item) => item.matchNo === i);\r\n          let realMatch = matches.find((item) => item.matchNo === i);\r\n          if (\r\n            match !== undefined &&\r\n            realMatch !== undefined &&\r\n            realMatch.visability === false\r\n          )\r\n            continue;\r\n          let pets =\r\n            match !== undefined && realMatch !== undefined\r\n              ? backendService.calcPets(\r\n                  match.home,\r\n                  match.away,\r\n                  realMatch.home,\r\n                  realMatch.away\r\n                )\r\n              : 0;\r\n          temp[i] =\r\n            match.home !== null && match.home !== undefined\r\n              ? `${match.home}:${match.away} (${pets})`\r\n              : \"\";\r\n          temp[`pets_${i}`] = pets;\r\n          temp.pets = temp.pets + pets;\r\n        }\r\n        return temp;\r\n      });\r\n      setData(data);\r\n    })();\r\n  }, []);\r\n\r\n  if (columns.loading || data.loading) return <div><CircularProgress/></div>;\r\n\r\n  return (\r\n    <div>\r\n      <MyMenu  currentUser = {currentUser} />\r\n      <MaterialTable\r\n        options={{\r\n          pageSize: 10,\r\n          pageSizeOptions: [10, 60],\r\n        }}\r\n        title={`Это общая таблица результатов, ${currentUser.username}`}\r\n        columns={columns}\r\n        data={data}\r\n      />\r\n    </div>\r\n  );\r\n}\r\nexport { ResultPage };\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport { PrivateRoute } from \"./PrivateRoute\";\r\nimport { HomePage } from \"./HomePage\";\r\nimport { LoginPage } from \"./LoginPage\";\r\nimport { AdminPage } from \"./AdminPage\";\r\nimport { InfoPage } from \"./InfoPage\";\r\nimport { ResultPage } from \"./ResultPage\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      <Router>\r\n        <Switch>\r\n          <div>\r\n            <PrivateRoute exact path=\"/\" component={HomePage} />\r\n            <Route path=\"/login\" component={LoginPage} />\r\n            <PrivateRoute exact path=\"/admin\" component={AdminPage} />\r\n            <PrivateRoute exact path=\"/info\" component={InfoPage} />\r\n            <PrivateRoute exact path=\"/result\" component={ResultPage} />\r\n          </div>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}